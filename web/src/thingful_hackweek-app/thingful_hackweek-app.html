<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/google-map/google-map.html">
<link rel="import" href="../../bower_components/point-overlay/point-overlay.html">
<dom-module id="thingful_hackweek-app">
  <template>
    <style>
      :host {
        display: block;
      }
      
      google-map {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: -1;
      }
    </style>
    <google-map map="{{map}}" latitude="51.523410" longitude="-0.084109" zoom="13" api-key="AIzaSyAagcNHlvtF3rPLguDs1AXg5prlQFMqrOo" styles='[{"stylers":[{"saturation":-100}]},{"featureType":"water","stylers":[{"lightness":-50}]}]' on-google-map-ready="setPointSize" on-zoom-changed="setPointSize">
    </google-map>
    <point-overlay id="overlay" map="[[map]]" uniforms="{{uniforms}}" data='[{"lat": 51.523410, "lng": -0.084109}]'>
    </point-overlay>
  </template>
  <script>
    Polymer({
      is: 'thingful_hackweek-app',
      properties: {
        overlay: {
          type: Object,
          value: null
        }
      },
      attached: function () {
        this.overlay = document.getElementById("overlay");
      },
      setPointSize: function () {
        this.overlay.uniforms.pointSize = Math.exp(0.3 * this.map.getZoom());
      }
    });
  </script>
</dom-module>